!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";!function(){window.Cinema=n(1)}()},function(t,e,n){"use strict";!function(){var e=n(2),r=function(t){this.options=e.Object.merge({debug:!1},t);var n=!1,r=this;this.parent="string"==typeof t.node?document.querySelector(t.node):t.node;var o=this.options.hasOwnProperty("aspect")?this.options.aspect:16/9,i={load:function(){}};if(i=e.Object.merge(i,t.events),this.video=this.parent?document.createElement("video"):null,!this.video)throw new Error("Invalid root in Theater constructor");this.parent.classList.add("rmr-cinema-root"),this.video.addEventListener("loadeddata",function(){r.debug&&console.log("cinema loaded"),i.load(),r.parent.classList.add("rmr-cinema-loaded"),r.play()}),this.video.addEventListener("play",function(){console.log("play!!"),n=!0;var t=r.parent.querySelector("button");t&&t.parentNode.removeChild(t)}),this.video.addEventListener("pause",function(){r.debug&&console.log("cinema paused"),n=!1});var a=document.createElement("div");a.setAttribute("aria-hidden","true"),a.classList.add("rmr-cinema-curtains");var s=e.Object.merge({loop:"loop",autoplay:"autoplay",preload:"auto"},t.attrs);for(var u in s)s.hasOwnProperty(u)&&this.video.setAttribute(u,s[u]);this.video.setAttribute("muted",""),document.body.classList.add("rmr-cinema");var d=function(){var t=window.getComputedStyle(r.parent),e={width:r.options.resize?window.innerWidth:parseInt(t.width,10),height:r.options.resize?window.innerHeight:parseInt(t.height,10)};e.width/e.height>o?(r.video.style.width=e.width+"px",r.video.style.height=""):(r.video.style.height=e.height+"px",r.video.style.width=""),r.options.debug&&console.log("cinema resized video to "+JSON.stringify(e))};d(),t.resize&&window.addEventListener("resize",function(){d(),r.play()}),window.addEventListener("blur",function(){try{r.video.pause()}catch(t){}}),window.addEventListener("click",function(){n||r.play()}),window.addEventListener("focus",function(){n||r.play()}),this.parent.insertBefore(this.video,this.parent.childNodes[0]),this.parent.insertBefore(a,this.parent.childNodes[0]),this.play=function(){var t=this,e=r.parent.querySelector("button");e&&e.parentNode.removeChild(e);var n=this.video.play();void 0!==n&&n.then(function(t){}).catch(function(e){if(!n){var n=document.createElement("button");t.parent.insertBefore(n,t.parent.firstChild),n.addEventListener("click",function(){r.video.play(),n.parentNode.removeChild(n)})}})},this.load=function(t){var e=arguments.length>0?t:this.options.sources;for(var n in e)if(e.hasOwnProperty(n)){var r=document.createElement("source");r.setAttribute("type",n),r.setAttribute("src",e[n]),this.video.appendChild(r)}return this},this.playPause=function(){r.options.debug&&console.log("toggling play/pause");try{n?this.video.pause():this.video.play()}catch(t){}return this},this.on=function(t,e){return i[t]=e,this},this.toString=function(){return JSON.stringify({parent:this.parent,options:r.options})},this.destroy=function(){for(;this.parent.childNodes.length>0;)this.parent.removeChild(this.parent.childNodes[0]);this.options=this.video=this.parent=null}};t.exports=r}()},function(t,e,n){"use strict";!function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector);var e=function(t){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},n=function(){return"undefined"!=typeof window&&"undefined"!=typeof navigator&&void 0!==window.orientation},r=function(t){return(t||"rmr-guid-")+parseInt(100*Math.random(),10)+"-"+parseInt(1e3*Math.random(),10)},o=function(t,e){var n={},r=0;for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);if(!e)return n;for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},i=function(t){var e=[],n=0;if(t instanceof Array)return t;if(!t.length)return e;for(n=0;n<t.length;n++)e.push(t[n]);return e},a=function(t){return"string"==typeof t?document.querySelector(t):t},s=function(t,e){var n=document.createElement(t);for(var r in e)e.hasOwnProperty(r)&&e[r]&&n.setAttribute(r,e[r]);return n},u=function(){return'<svg version="1.1" class="rmr-loader" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve"><path opacity="0.2" fill="#000" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"></path><path fill="#000" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 20 20" to="360 20 20" dur="0.8s" repeatCount="indefinite"></animateTransform></path></svg>'},d=function(t){t=a(t);var e=t.getBoundingClientRect(),n={top:e.top,left:e.left,bottom:e.bottom,right:e.right};return n.top+=window.pageYOffset,n.left+=window.pageXOffset,n.bottom+=window.pageYOffset,n.right+=window.pageYOffset,n.width=e.right-e.left,n.height=e.bottom-e.top,n},c=function(t,e){if("undefined"==typeof navigator)return e;var n,r;for(n in navigator.languages)if(navigator.languages.hasOwnProperty(n)&&(r=navigator.languages[n].toLowerCase(),t.hasOwnProperty(r)&&t[r].hasOwnProperty(e)))return t[r][e];for(n in navigator.languages)if(navigator.languages.hasOwnProperty(n)&&(r=navigator.languages[n].split("-")[0].toLowerCase(),t.hasOwnProperty(r)&&t[r].hasOwnProperty(e)))return t[r][e];return e},f=function(t,e){if(!(t=a(t)))return!1;for(var n in e)e.hasOwnProperty(n)&&e[n]&&(t.style[n]=e[n]);return t},p=function(t){return 0===Object.keys(t).length?"":Object.keys(t).reduce(function(e,n){return e.push(n+"="+encodeURIComponent(t[n])),e},[]).join("&")},l=function(t){if(!(t=a(t)))return{};var e=t.querySelectorAll("select,input,textarea"),n={};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r].getAttribute("name"),i=e[r].type?e[r].type:"text";e[r].hasAttribute("disabled")||("radio"===i||"checkbox"===i?e[r].checked&&(n[o]=e[r].value):n[o]=e[r].value)}return n},h=function(t,e,n){if(!(t=a(t)))return null;if(n&&t.matches(e))return t;for(var r=t.parentNode;t.parentNode;)if(r=t.parentNode,r.matches(e))return r;return null},v=function(t){return(t=a(t))?(t.parentNode.removeChild(t),!0):null},g=function(t,e){if("undefined"==typeof XMLHttpRequest)return null;t=o({form:null,url:"/",method:"get",params:null},t),t.form&&(t.form=a(t.form),t.url=t.form.getAttribute("action"),t.method=t.form.getAttribute("method")?t.form.getAttribute("method"):"get",t.params=l(t.form));var n=new XMLHttpRequest;n.onreadystatechange=function(){4===this.readyState&&e&&e(n)};var r=t.url;return"GET"===t.method.toUpperCase()&&t.params&&(r=r+"?"+p(t.params)),n.open(t.method,r,!0),n.send(),n},m=function(t,e){t=i(t);for(var n=t.length-1;n>=0;){if(e?e(t[n]):t[n])return t[n];n--}return null};t.exports={Browser:{isTouch:n},String:{isURL:e,guid:r,localize:c},Array:{coerce:i,last:m},Object:{merge:o,queryString:p},XHR:{request:g},Node:{ancestor:h,remove:v,loader:u,get:a,make:s,getRect:d,setStyles:f}}}()}]);